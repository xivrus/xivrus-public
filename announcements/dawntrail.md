---
layout: page
title: XIV Rus в Dawntrail
---

## XIV Rus и остальные моды в Dawntrail {#title}

_25.06.2024, от EnderVAD_

Уже совсем скоро в FINAL FANTASY XIV выйдет новое дополнение Dawntrail. Каждый игровой патч система модификаций Dalamud и связанные с ней моды временно перестают работать, обычно от 1-го до 3-х дней, но при выходе нового дополнения в игру вносится слишком много изменений. Разработчики Dalamud и Penumbra выложили сообщения о том, что нам следует ожидать. На этой странице далее идёт перевод их объявлений, а также в свою очередь наши объявления касательно русификатора.

## TL;DR: {#tldr}

* **Dalamud не будет работать длительное время**, сроки официально не заявляют
  * Раньше было примерно **2 недели**, в этот раз **скорее всего будет ещё дольше**
* После обновления Dalamud нужно дождаться обновления Penumbra
* После обновления Penumbra мы сможем наконец приступать к тестированию новой версии русификатора
  * В зависимости от объёма изменений это тоже может занять длительное время
* **Итого весь процесс может занять 1 месяц и больше --- всё это время перевод не будет доступен**

### ВАЖНО! УДАЛИТЕ РУСИФИКАТОР!

Прошлые версии **БУДУТ ЛОМАТЬ ИГРУ**, когда заработают Dalamud и Penumbra. **Дождитесь выпуска новой версии.**


## Объявление от XIV Rus {#xiv-rus}

Как далее увидите в переводах объявлений от разработчиков Dalamud и Penumbra, обновление всех модов и плагинов займёт приличное время. Это обновление также не может проходить одновременно: сначала нужно дождаться обновления Dalamud, потом обновления Penumbra, и только тогда мы можем приступать к тестированию русификатора на новой версии игры. 

Единственное, что мы скорее всего сможем делать параллельно, --- это извлечь новые файлы игры и сделать анализ необходимого объёма изменений. Причём на этот раз нужно будет проверить наличие изменений в техническом плане, т.е. что скрипты конвертации вообще продолжают работать, что скрипт обновления сможет вообще обработать новые файлы и т.д. Не говоря уж о том, что будет много изменений в области интерфейса и крайне желательно большинство новых строк (если не все) отловить и перевести. С ловлей новых строк наверняка понадобится ваша помощь. Мы ещё отдельно объявим об этом, но хотелось бы напомнить, что при обнаружении непереведённых строк там, где явно должно быть переведено, присылайте скриншоты строк/окон в канале `#интерфейс-ошибки` в [нашем Discord-сервере](https://discord.gg/e6z2VY8fNj).

### Далее техническая часть :) {#xiv-rus-tech}

Разработчик Penumbra в своём объявлении подробно распространялся о том, что **возможно** будет и не будет работать. Почти всё из того, что он назвал там, не распространяется на нас. Наш мод меняет в игре следующее:

* **EXD-файлы** --- Это непосредственно файлы, содержащие бинарные данные игры и строки. А также причина, почему нам нужно держать мод обновлённым каждый патч и почему игра вылетает или криво работает, если не обновлять перевод. Скорее всего, здесь не будет фундаментальных изменений. В противном случае обновление перевода сильно затянется, так как понадобится адаптировать наши скрипты конвертации под новый формат.

* **Игровые шрифты** --- Почти все шрифты игры, кроме одного, не содержат кириллицу. Для наиболее полного перевода интерфейса мы нарисовали у них кириллицу (кроме одного шрифта, где оригинал уже имеет кириллицу, её просто в игру не добавили) и сконвертировали с помощью одной утилиты от разработчика XivAlexander в игровой формат. Так что если SQUARE ENIX что-то поменяли в игровом формате шрифтов, то придётся ждать обновление этой утилиты. Насколько мне известно, эту утилиту ещё используют китайцы для внедрения в глобальную версию игры полного набора иероглифов, потому при необходимости обновить утилиту вряд ли придётся сильно долго ждать.

* **Текстуры интерфейса** --- Они отличаются от текстур моделей, персонажей и т.д. тем, что они по формату на порядок проще. Мы изначально храним их в формате PNG, откуда потом конвертируем в нужный формат текстур DDS, откуда в свою очередь конвертируем в игровой формат с помощью утилиты от Kartoffel. В случае изменения формата текстур DDS будет легко поменять на новый, а если изменится игровой формат, то понадобится дождаться обновления утилиты. Если это обновление понадобится, то вряд ли придётся долго ждать его, поскольку Kartoffel сама активно использует свою утилиту для создания и поддержки своего большого модпака с 4K-текстурами.

Итого пока надеемся, что не понадобится сильно много работы по технической части. Но это будет зависеть исключительно от объёма изменений в игре, который нам пока неизвестен.


## Объявление и FAQ от Dalamud {#dalamud}

_Текст от **goat** в Discord-сервере <<XIVLauncher & Dalamud>> --- [ссылка на полный текст](https://discord.com/channels/581875019861328007/585180735032393730/1253467439836954686)._\
_Ссылка на Discord-сервер: [https://goat.place/](https://goat.place/)_

### Что случится с XIVLauncher? {#dalamud-xivlauncher}

XIVLauncher --- это программа, через которую вы входите в игру и которая запускает/обновляет игру. После выхода дополнения она сама себя отключит, чтобы мы могли проверить у себя и увбедиться, что всё работает. Если SQUSRE ENIX ничего сильно не изменили, лаунчер можно использовать практически сразу после того, как станет доступен ранний доступ. Однако **мы не можем это гарантировать**, так что будем **держать вас в курсе здесь**. _(прим. перевод.: в канале `#announcements` Discord-сервера <<XIVLauncher & Dalamud>>, ссылка выше)_

### Что случится с Dalamud? {#dalamud-dalamud}

Dalamud --- это фреймворк, на котором держатся все плагины. Прежде, чем разработчики плагинов смогут начать работу над их обновлением, сначала нужно обновить Dalamud. Мы не знаем точно, насколько много изменений будет в коде игры, поэтому обычно **мы не можем дать сроки**, когда Dalamud будет доступен, --- это наверняка будет долгий процесс. Мы предполагаем, что в новом дополнении будет ещё больше изменений, чем в прошлом.\
Как уже упоминали, **мы будем держать вас в курсе здесь**. _(прим. перевод.: там же, в канале `#announcements`)_

### Когда будет обновлён \[мой любимый плагин\]? {#dalamud-plugins}

**Мы не знаем.** Плагины обновляются их разработчиками тогда, когда у них есть время и возможность. Мы не можем давать никаких сроков за них.\
Когда дополнение будет выпущено, _абсолютно все плагины_ для Dalamud понадобится обновить и проверить прежде, чем выпускать их на всеобщее использование.

### Что насчёт моих модов на тело, броню, одежду и т.д.? {#dalamud-mods}

**Мы не знаем.** Вообще мы не работаем особо с эко-системой моддинга, но популярные плагины для моддинга зависят от той же работы, которую проделываем мы. Нам известно, что многие моды наверняка понадобится обновить, но мы не знаем, как это будет выглядеть. С вопросами по модификациям обращайтесь, пожалуйста, в **сообщества, связанные с интересующими модификациями**, а не здесь.\
_(прим. перевод.: по вопросам русификатора **обращаться в наш Discord-сервер XIV Rus**, а не в серверах Dalamud или Penumbra.)_

### Что-то ещё? {#dalamud-anything-else}

Мы скорее всего не сможем помочь со всеми другими вопросами, потому что мы пока ещё не знаем больше об обновлении, но можете перейти в канал `#other-questions` и задать вопросы там.


## Penumbra --- Осталась одна неделя {#penumbra}

_Текст от **Ottermandias** в Discord-сервере <<Penumbra & Glamourer>> --- [ссылка на полный текст](https://discord.com/channels/884363610640498698/884364386389614592/1253692568273686648)._\
_Ссылка на Discord-сервер: [https://discord.gg/kVva7DHV4r](https://discord.gg/kVva7DHV4r)_

### Penumbra и Glamourer в Dawntrail {#penumbra-penumbra-and-glamourer}

Судя по бенчмарку, не похоже, что базовый функционал Penumbra или Glamourer будет сломан.\
В Glamourer понадобится внести немало обновлений для поддержки Хротгаров-женщин (большая часть подготовки уже готова) и 2-х слотов для красок (здесь понадобится побольше усилий), а также новых материалов для продвинутых красок.\
В Penumbra скорее всего понадобится только общая работа по обновлению клиента.\
Но прежде, чем начать работать над всем этим, мне понадобится дождаться обновлённого `ClientStructs` (компонент сообщества в реверс-инженеринге игрового кода) и Dalamud, так что поначалу прогресс всё равно будет медленный.\
В связи с этим, а также с тем, что неизвестно, сколько будет изменений в игре и когда будут доступны мои зависимости, я не могу сказать, когда Penumbra и Glamourer будут снова доступны.\
Будьте уверены, что я начну работать над этим как только, так сразу, скорее всего даже в ущерб своему игровому времени.

### Изменения в моддинге в Dawntrail {#penumbra-modding-changes}

_(Далее прим. перевод.)\
Ottermandias здесь подробно рассказывает о том, что **возможно** будет работать, а что --- нет. В контексте нашего перевода почти всё не связано с тем, что делаем мы, --- см. наше объявление [в начале страницы](#xiv-rus). С полным текстом от Ottermandias прошу ознакомиться самостоятельно по ссылке выше._